{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogs/HSQLDB-code-analysis-5/","result":{"data":{"site":{"siteMetadata":{"title":"Twistronics Blog"}},"markdownRemark":{"id":"52432896-49e9-5770-a76b-bcda704a7ea8","excerpt":"1)\tJava 是如何实现线程之间的同步和通信的？ Java可以使用Thread类来启动线程  通过synchronized关键字实现的锁来保证同步  2)\tHSQLDB 是如何采用多线程机制实现并发的？ Hsql对每个客户端的连接对应了一个线程\n  Server线程在这里接受连接请求  开启一个新线程…","html":"<h2>1)\tJava 是如何实现线程之间的同步和通信的？</h2>\n<p>Java可以使用Thread类来启动线程</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6e07ab39de305f2b0ffb89284d505ac8/0ef7e/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABnUlEQVQoz3VQCW7cMAz0/9/VBxRIim6QjdfWrix7fYiiTlI+KgcFigYtQUi8hhpNdb2Pl2a4NH0J3sVwqeVFqB8f4vXavtbdW9tfWtX20Ax2WKxGPy1m1qie8PLte3WX/fUm2rsqVXTRR9LoAG1IuR+Xt2tzbUQjuubeSdU/7rIVj0490QVLa5ViYIqZEqW4Mm0rb5m3dT2OY5qm97ef8iFEU9bXt1vdK+W93/etdA3oKiSGQOhPNyGdp0/aBrDxueAwQz/BBG4CP+rCyKVEIVIhaK2rQDslQS72MWGv9Icc+tlqy4sl7Qg8l9OEjHHVGOdlNsZYH11i51x17BvajD77uKa0+UAx8bodnPfjb8vMRFEIMU9jSQHgBGuwM1iwgTkf/zfOOXNW8mH0cqbMVbmiDdaYnFde1zJAfA6VXon3/c/7n4U8PofgbUmJTvBeBEhEZdKeYkRfNDm1j6X9Fcw0jQVsSp2IPmmPVsnBGMdU9pW//Zt2PrmxktLA+Jt2WTBr08l+ngCREQlN8iHFRF/cuQiAdX3rOoloEd0vM+dzZuqNGf4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/6e07ab39de305f2b0ffb89284d505ac8/fcda8/1.png\"\n        srcset=\"/static/6e07ab39de305f2b0ffb89284d505ac8/12f09/1.png 148w,\n/static/6e07ab39de305f2b0ffb89284d505ac8/e4a3f/1.png 295w,\n/static/6e07ab39de305f2b0ffb89284d505ac8/fcda8/1.png 590w,\n/static/6e07ab39de305f2b0ffb89284d505ac8/efc66/1.png 885w,\n/static/6e07ab39de305f2b0ffb89284d505ac8/c83ae/1.png 1180w,\n/static/6e07ab39de305f2b0ffb89284d505ac8/0ef7e/1.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>通过synchronized关键字实现的锁来保证同步</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/936897b3862d09d7a9b061f5bbace11a/0ef7e/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtElEQVQoz11SCY7bMAz0/9/VBxTYLZptHK8tX3LiWPdBSpZLN1igLTWiLg45ElTV/ePSLpeW0+TKlkszXtj848be6+69mT46funmjst2MctmhHbrpp5Cz3f59u171Y+8/mRdP9OutsEFENpKbXxM/LF91G3dspZNbT+NMx/6sWPDNN+19QZyFYNHCAkixJAT7Bn3hHvOx3Gs63r99XMcGGspfdN+NpzPzrlSdjpVUlQ+onKgXVQuShukieKEFybcn3p5Sr7KVdhVuoewQmoAjJiIpbWpnI8P4Z7qjFY2Gg8BzrMTAcLLQ4opk1Tnw7Y9Z37KBgSSjZybZXHKoPVoHALmlPdSCmk7+x9PQMSUsGluTX0N3tCi8i7yZVPKK2mUsdp5ymqpXNohlxfwxBEhEaHvWc9Y8JZyVUfZ5/t6F0Ju4E1JeCQ4yCPsx79GVGrTNI7DYK1GACIXL418SmWTsgCQIe6AKedSvgR/yU5UbRxHJTbKFSORjwK4awXCGGF1iBlgR4TXnf+2TDdO0LFu6BlClFLSg0W1GUvfwwajg3MhUnlINPwHitmEvN1ubcvmmW+b/A0ni3Gq8ciwEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/936897b3862d09d7a9b061f5bbace11a/fcda8/2.png\"\n        srcset=\"/static/936897b3862d09d7a9b061f5bbace11a/12f09/2.png 148w,\n/static/936897b3862d09d7a9b061f5bbace11a/e4a3f/2.png 295w,\n/static/936897b3862d09d7a9b061f5bbace11a/fcda8/2.png 590w,\n/static/936897b3862d09d7a9b061f5bbace11a/efc66/2.png 885w,\n/static/936897b3862d09d7a9b061f5bbace11a/c83ae/2.png 1180w,\n/static/936897b3862d09d7a9b061f5bbace11a/0ef7e/2.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>2)\tHSQLDB 是如何采用多线程机制实现并发的？</h2>\n<p>Hsql对每个客户端的连接对应了一个线程\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/99d7fcb616dc00bda39d8b619919bdf8/0ef7e/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABkklEQVQoz4VR2Y7cIBD0/39cslptMhPP4JMbxgYDvgA7PbtSsnlIUirVQwtVVzXFS9ldav6K2KVi3yr2dievt+5L2X69Vi/XpmzFrROXmiE6NMIr44316mEH63qiC0TkW9mUNa47itUk7SLGmQ+eD47oqcX8hlpU93VHWswo5X3b95hINajHWMS4orr6fi2vCGHGU0rneR7HAZpzwhjfyh8E47pCXde1DaDmjHLGQgiFsQ5TTiijhCml3fSEnaZlWbY9Ti4YC5iMgZkDGQbDpbaT2/dYjOOYc4Y9dvRqnKXeKF9CSOuWY4L5kTMQ5IltXZVSVdNxISklhff+I+RkNim8GEYmZyWz5NGOOe5P31+IMTIu0P3etg1CqHDOvxvnIz1XfH4Knu+2v7HtSUjd1A3nHNoVVLs9Jjenec0QFbjtoGlZE1ief2LdExcaw7kJHBEXnXRxXo0w3ofzf5iXTaoHYxyaK6mKXgdI+1BmWfa4Q/Tzb4QK8AH5UzWIHUa7chmknvUQBrv9gw8zW7dObvvgT1ovbmhtGVOBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/99d7fcb616dc00bda39d8b619919bdf8/fcda8/3.png\"\n        srcset=\"/static/99d7fcb616dc00bda39d8b619919bdf8/12f09/3.png 148w,\n/static/99d7fcb616dc00bda39d8b619919bdf8/e4a3f/3.png 295w,\n/static/99d7fcb616dc00bda39d8b619919bdf8/fcda8/3.png 590w,\n/static/99d7fcb616dc00bda39d8b619919bdf8/efc66/3.png 885w,\n/static/99d7fcb616dc00bda39d8b619919bdf8/c83ae/3.png 1180w,\n/static/99d7fcb616dc00bda39d8b619919bdf8/0ef7e/3.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span> </p>\n<p>Server线程在这里接受连接请求</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d3de171aee885cbc0b4f0603f1229cf/0ef7e/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABuElEQVQoz2WRaY7cIBCFff9j5QD5MZqR0u0FY/bNxmADxlvoliIlk+IJsdRHqR5Vi+Rnxx+AtVg3SDwh+zWwrwZ+NvCro2X76DkUcy+9sou1izLzaD3h48ePnxUVpu1x1yNMOGFSqtFY75awxo0w9ahBAwYACUAUE4aGMohURplR+1gBiEFTM0rsaFIMe97ud5znSQlp6ielBPYdgn0PAIS9EJwxtq7LNJpqIOzZQYi4Gv28JLdm65P1cXKBcIOoRFQRYagcmZzMaLlQk3U578u6Vtd1zSEJa8U0CTtJO6t5ltZOyxJSjimHuMVtT/lY1qi1Af3AheSMcsar+87rMkulTWnWTSmnLYfjus7rvu4/ul7a910I2bbtAGHXdXVdV+XF2WqEBswRUgwUCT7NMW5HPu58XG+VxZ22XUndg7407ZynhJbKd/SxhQPG1I7O+92YS+ucUr7/jVJZSo0RLhjGRCn1gt3oAMaCi8WtKV37dh97seL6BuecC8Bo+U8phdRav2AjtOYyhbTGEHLMZz7OfT+Ob3BK6fjrMOetCjEWP9PL2O3tbQohveb/NDtfrkrmKzlm79ff/Gpqtjd6NCoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/2d3de171aee885cbc0b4f0603f1229cf/fcda8/4.png\"\n        srcset=\"/static/2d3de171aee885cbc0b4f0603f1229cf/12f09/4.png 148w,\n/static/2d3de171aee885cbc0b4f0603f1229cf/e4a3f/4.png 295w,\n/static/2d3de171aee885cbc0b4f0603f1229cf/fcda8/4.png 590w,\n/static/2d3de171aee885cbc0b4f0603f1229cf/efc66/4.png 885w,\n/static/2d3de171aee885cbc0b4f0603f1229cf/c83ae/4.png 1180w,\n/static/2d3de171aee885cbc0b4f0603f1229cf/0ef7e/4.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>开启一个新线程</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/84170b872ce490aff9692862eb0fc463/efeb1/5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABrUlEQVQoz22S2Y7jIBBF/f+/N62edBIvGDBr2YDZvIUhUj/MVjpC9cCtCxeaz5Y8sfw5sFs33ZG49ezW089h+nigHw/00U1fiH0hjoQbxKpMWKxXYGe7Yqob5xPlqh0wGicwzq2xYn30MYW0ESa/Hn3bjx2iA57oxPCIRzJJBQqW5rxONOK+fXI+Bb9ex1HKq1Yp5TgOgnH7vLOJor7DIxr6HiEkBGeMxRAat3rGFaKCcCXAcG0E2MXFZY1gPOFAmMJMUTlPcuFqgXkRUlm77vvRUO2v69RmnV3UxoK1IW8x7TFtaTtSrtR+r33eTx+yUGockRRyorShEEu5FhP1nN9jZzjOevL/17HvXMhn26IBtW3XEB2qONgEEJl1DAA4SBG1jud5/iXe8sa4aLuuZlGv3dC5Or+yi0zPd9BoBqE0FlJQ7r3/11kqTSmtuRNCGqzDeSVrF2kduA3cvpitvlaMKW/H+SrfXO81560KMSbTu6ozrCEpwvvF2eBLNfOhxHxd5b37uL5560up87SSAFprZczSqLl+mlyTt2v+HfcnxkbjktJOaqth1fObX64vafgunBZfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"5\"\n        title=\"5\"\n        src=\"/static/84170b872ce490aff9692862eb0fc463/fcda8/5.png\"\n        srcset=\"/static/84170b872ce490aff9692862eb0fc463/12f09/5.png 148w,\n/static/84170b872ce490aff9692862eb0fc463/e4a3f/5.png 295w,\n/static/84170b872ce490aff9692862eb0fc463/fcda8/5.png 590w,\n/static/84170b872ce490aff9692862eb0fc463/efc66/5.png 885w,\n/static/84170b872ce490aff9692862eb0fc463/c83ae/5.png 1180w,\n/static/84170b872ce490aff9692862eb0fc463/efeb1/5.png 1593w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>3)\tHSQLDB 中的隔离是如何保证的？</h2>\n<p>HSQLDB 中的每次锁操作的隔离使用读写锁来保证</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/91d8f592dbbeb2089f4fc03ab664a8ff/0ef7e/6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABo0lEQVQoz2WR23KkIBCGff/n2vu92J0kOo6gjoh4ADkKiG47uUk2XR9NV1f9XT9NVrbso6YF6st2LGqaY3JD3duj+VvWN0Q+8EVFZswU41oIPc7rIiRh/M+v31lH5wdqKvwkw8gmPnPJZj5OcJuOTnmJS9SgukMNeZL+2bRN2w1sZtMyKZfhpiuLvCyKGiFGqVEqBB9DOI6D9v3jnvekq3HV1rjGCGNEodsTY7TgS1a1Q1k1VdNNXArlgM0HH+IsdDfMLWHPfmwI64aFsIULCQdsaWOVNpmyYZF+NXFVnstt1d66ABjnnb/yi+B8lNquq4TR48SHYbDWZkE51s/LIugijLXOb+vm9n0/fwQ0pZTee621kgqK7Exp7mcppA8hpSMdZ0wn5J94H/c9Ha+AWSmlzMdYtjSvMaY9oj3lk9/XLQow7vfzK3YD8Q5KkEGGOjsP61yu9JtSN6XetHkP4R5jbu0zxm/mwSd0vomPZJUqjLl/Yk1pLnJjpv/evG2X+LxcX+IYY+acWwTsnwNiFfCBL5TWxsHCv6A0LNhvW/hEa/sPIvlufEUptVcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"6\"\n        title=\"6\"\n        src=\"/static/91d8f592dbbeb2089f4fc03ab664a8ff/fcda8/6.png\"\n        srcset=\"/static/91d8f592dbbeb2089f4fc03ab664a8ff/12f09/6.png 148w,\n/static/91d8f592dbbeb2089f4fc03ab664a8ff/e4a3f/6.png 295w,\n/static/91d8f592dbbeb2089f4fc03ab664a8ff/fcda8/6.png 590w,\n/static/91d8f592dbbeb2089f4fc03ab664a8ff/efc66/6.png 885w,\n/static/91d8f592dbbeb2089f4fc03ab664a8ff/c83ae/6.png 1180w,\n/static/91d8f592dbbeb2089f4fc03ab664a8ff/0ef7e/6.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>事务由TPL保证隔离</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c90459984a3ce64997736cbc41fe1e0/29007/7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABoUlEQVQoz31R2bbbIAz0//9em9MmdYJtMNgQzL6buPgmD70vnTPoiEUaSXSXO+oh/TUsN0B6yG7jcgX45wNd+vHHn+nywL/ByQcWA7VMOqEs42pTBs7PTvs0L/wOpseAyPpkT8mFplwwvgntEGHXHtwBBOM8QIwwQROECFPG25uuvo5hQv3t2jgBQJfFWVNyKqW8asXzfO9vBM8jeMBxHABoZl3IshDvXUeFBYj2ADbhTVnlgnIxlz2VnSuHVw4JexPTjTChlBFC8k06H7oHUTllLW2rcqUCEym1t9ZY65S2IeZGH5OPJeaqjNfGxFTOsinr0NMdx1HLrricoUEoEmxnROW2tRS11uMftF601jlnY4xzrpuYbad7rdH4HNLxX6SUa3290bYf5aC81zanFHzw/lzN37/LnsE57/sZXb9ydMMqYzFK82UZxxnhFVFOQqqtw5BfMb/eNpWj0YXvwfBUbl7VRrU/5ooLI0KKpZZUmlDJe97r/laOMZ1TOKs+bYeZMzZJFRiVjOvn1sbupA7aJm0+VCYK5aXybDOfqy/+BfOCbuogOr8HAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"7\"\n        title=\"7\"\n        src=\"/static/6c90459984a3ce64997736cbc41fe1e0/fcda8/7.png\"\n        srcset=\"/static/6c90459984a3ce64997736cbc41fe1e0/12f09/7.png 148w,\n/static/6c90459984a3ce64997736cbc41fe1e0/e4a3f/7.png 295w,\n/static/6c90459984a3ce64997736cbc41fe1e0/fcda8/7.png 590w,\n/static/6c90459984a3ce64997736cbc41fe1e0/efc66/7.png 885w,\n/static/6c90459984a3ce64997736cbc41fe1e0/c83ae/7.png 1180w,\n/static/6c90459984a3ce64997736cbc41fe1e0/29007/7.png 1600w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>4)\tHSQLDB 的锁协议是怎样实现的？</h2>\n<p>对于TPL锁</p>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/943d528603444ddee47976453ef01764/29007/8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABoklEQVQoz21QCY7bMAz0/1/XLtImm8SOYsuyHcm6b/kokyyKYtEBQVLHDEeqPs7d8Tb+avpTQw71cKjJ4Yp/Xrsfp+bj3J7QeLoNJzTUhKNJU2FmoR9McmVaTCs0sOP1fm7atp/uo5i4pzKMwk3cjNzC5qVGDerueIR+GCfc4Z5MdOaUq2rd1hb3ddO0GI+Ph7E2hlBSLDktpdwRul7OGHd1fb01gBohREg/DMRZW7mQLz393bTHG/jHn3cyMWGts87HlIVQwzAJIaVUWhultJCKC8GF9CFWZHb7vq9l2bcNmm1dlwVGlvWFbdtgCfV9GmIC3ZjKg86Msapjdt8XwyUbB8YEYzMXHGbmXJb1xQBFUH/RUypGGziDbMF2S1VatEt6mgl+4IkTqqhN2cZsnpGg8amkZYcIMf91BKIV4QHKkherLahpa713YHX7wvouLwd7TvnNfOcKcw+mNPfORcD+de3/SN/IQrviQrThORc+OcWc4rqU10u/K6UYgfbc3565gj+X0nNu6ewY90w4yjTjZuaWS69M+jeEDFIHZeI7/gApU3DQo/08bQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"8\"\n        title=\"8\"\n        src=\"/static/943d528603444ddee47976453ef01764/fcda8/8.png\"\n        srcset=\"/static/943d528603444ddee47976453ef01764/12f09/8.png 148w,\n/static/943d528603444ddee47976453ef01764/e4a3f/8.png 295w,\n/static/943d528603444ddee47976453ef01764/fcda8/8.png 590w,\n/static/943d528603444ddee47976453ef01764/efc66/8.png 885w,\n/static/943d528603444ddee47976453ef01764/c83ae/8.png 1180w,\n/static/943d528603444ddee47976453ef01764/29007/8.png 1600w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c69600d8d82380e07b82ecbe0336a894/0ef7e/9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABqklEQVQoz2WRaY7jIBCFff9rzQFGavWokziJCY4hXlgMZXbMkOTHqKdLjxJIfFWvoDn38xeihys53cYjol+X+8cZf7bo84z/XMkRkUNHz/cFTXqSIFeY2cqlJqP4+PW7Gae5w+ROp1Vv1kefduPjZpxxYXjMxzO6dLjDw/MOoXfc436YZjYxvmjbYIyvbdvj24MMoJV31hkTnIsxUEIu7YmQAXXX/oZuqEOoezwopWTbQHDWtNXq6Xo4o0PbtZcb6imd2GPhrHqbBB7GcWaMcTpxMnEplRByYQI2ozQ0MSW1wkKk0G4GmIQdJzdQu/A6RQDrnY8pRhfiChXQ9VjheV6sdU0pxbu86eRcCOG5cioplX0v/0VKSQhRCwnOCandZFNy1AqqDcm55NIaW8oP7hUhRO/Dvu+1gX3FszPnK1+kXvXCldJh26qy9+knnHKupfeXq5xzsxcPAGyUqj6gXSWA0lnItJmU95LyP5n6kylVsmI11ykaayVfJVcr0wyAG6vzy3faS8zf9GKfcMXf5ptNW7VqpUCCBaiDeOv8O7vvAjDG1E14qx7/AplUcLn686o7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"9\"\n        title=\"9\"\n        src=\"/static/c69600d8d82380e07b82ecbe0336a894/fcda8/9.png\"\n        srcset=\"/static/c69600d8d82380e07b82ecbe0336a894/12f09/9.png 148w,\n/static/c69600d8d82380e07b82ecbe0336a894/e4a3f/9.png 295w,\n/static/c69600d8d82380e07b82ecbe0336a894/fcda8/9.png 590w,\n/static/c69600d8d82380e07b82ecbe0336a894/efc66/9.png 885w,\n/static/c69600d8d82380e07b82ecbe0336a894/c83ae/9.png 1180w,\n/static/c69600d8d82380e07b82ecbe0336a894/0ef7e/9.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>加锁，使用了一个hash表来存储锁的信息\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7421bbf4f7050ac1551a499a29e9d154/0ef7e/10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABpklEQVQoz3VQ2XKkMAzk/38vqYSEIXjAt8H4wAZsA6uZecnW1nZ1qXyoJbWqj5Y0g/pA7LOlNeJ1R+sf/N7ht2/01tzfW/KJaN2xjhkkvTJhtouarLZ+IGNlfRBSdXdCmDQurnve8xG2BKewJszU161ruwES0EAxZbgfBkylmuQ0V+d5IITa5qu/I0aJd3Zb4xrDvq1pWynB7e0b3u/dD77fUddBEJxxzmIMlV9Wwse66eoG1be+gRwiqTJ8NEp7zHVPJOYjjECEZnI21s2zHafZL6EalEvLyoUVs5eTFcrgQQk2cjYJqcFIBAtPbqmAR+fcuidtLADEy3WWoxSY/zzyeRTNplkIY03KCa7XL+SSKaEPHXwbU+ExXNfppqi5W12ACtf/sacEnWOM+7aXUqpe+T0vxmrB+DzJEHw5ocOZj+vF8ovbno5n9fOJh3hNZpw4ZYwJyjhxCxgsqVx/8wTCRy7Hwx/UAPHDM5hO5cg5pyuGFBa3BljE8e/YkAKyZ99HrOgYrI1KwvbtqGM/LAOxhCg9L9bv1m8vzjYCR+2t29yyv/gH31tt+yiG9ekAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"10\"\n        title=\"10\"\n        src=\"/static/7421bbf4f7050ac1551a499a29e9d154/fcda8/10.png\"\n        srcset=\"/static/7421bbf4f7050ac1551a499a29e9d154/12f09/10.png 148w,\n/static/7421bbf4f7050ac1551a499a29e9d154/e4a3f/10.png 295w,\n/static/7421bbf4f7050ac1551a499a29e9d154/fcda8/10.png 590w,\n/static/7421bbf4f7050ac1551a499a29e9d154/efc66/10.png 885w,\n/static/7421bbf4f7050ac1551a499a29e9d154/c83ae/10.png 1180w,\n/static/7421bbf4f7050ac1551a499a29e9d154/0ef7e/10.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>如果请求的目标被锁，就把当前session加入等待队列中</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/75fccc8857f432432dd8eaca7f5e754c/0ef7e/11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABj0lEQVQoz3VR2W7bMBDU//9Z3+M2smUdtChSF+9blJR1nJe0zWAALrCc2R2yqB7Tn5aU9XBD07WjZYPf6v5Sod939FYPZTu8N89WOyrKjJBmWeXK1cTU5delINNad30Ph9Dsk9PKp2XlUg/jer13txq1CDdo6IcR9xghTMdlXtgsbdGivirf79UNtc1IiFIipwg8z2Ok9HYtMe5R10C3a5umrgkZCMFKSS1FcUcUvKsGfJeFK669MEHaEGKE8R0eH2RGeMJ0HSbG4IKQ88q0scbYQnLTPQbU457Os3ym0jZYn3LOMW5Qv+h8ksZxKUNMkJlSaowpzpyd1MFZJb2xPud0/oBj35XS3nvnnOAi+ADifR6ZEGpZBJkXrTS4Ox/24zy+M22AfHwCvPZ9L/J+SBOYiIwnoYMxDsb7tMd8/kUXtpS2lwwAuYpzT1pZxr0QHJrH+SPSE19iGP4U57gp+FOtDaSxgVvIEv8rhp1hb8h+HE8x1IX3gc9CMQVyKb2QQWuQp38Jz+lchC940Vr/ASImcSp0ToWFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"11\"\n        title=\"11\"\n        src=\"/static/75fccc8857f432432dd8eaca7f5e754c/fcda8/11.png\"\n        srcset=\"/static/75fccc8857f432432dd8eaca7f5e754c/12f09/11.png 148w,\n/static/75fccc8857f432432dd8eaca7f5e754c/e4a3f/11.png 295w,\n/static/75fccc8857f432432dd8eaca7f5e754c/fcda8/11.png 590w,\n/static/75fccc8857f432432dd8eaca7f5e754c/efc66/11.png 885w,\n/static/75fccc8857f432432dd8eaca7f5e754c/c83ae/11.png 1180w,\n/static/75fccc8857f432432dd8eaca7f5e754c/0ef7e/11.png 1594w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>5)\tHSQLDB 中可能出现死锁吗？怎样预防或者解决？</h2>\n<p>HSQLDB中可能会出现死锁</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c7e593cb8ef7a593c7f1ff748f7462a4/ddb6a/12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABl0lEQVQoz21QyW7bMBTU//9UgfaWoigQJKhdyya1Uua+L6JElQ7QQwIPhg88PM7Cph3wn245A3Tp73+75QSm17Z/u8D3tn+/zWc4nwBqRwaxIdJKaQlTXJpp4b+//WoQplc4DNOdSV2pbXAhWV/nOi3kfAEt6EE/gWEeJzT2Q19XCSOMUxOabpjAtR27zmq15bXs+/GBUnY0z9fLeZ6nDtyGDkIAIIRLBULOWcFo089kQHhcyJ2pO5WY6xRTiIlKOyDaz3hEj4X5zhEWUmlCCGUsxljvjZNOcMWEJkwSba31wjntnQ9VItcKlb7KpaxdJBgzRqvtusZyHM1Rdqus5i6lUI7yiFtKOZ4g5y14Z7QYR9p3lEtVHxcvjGU65+N/3+dIaa2yStIf319/vpyuEDalbEpqy61z2fu0rmvO+al3jGnbNu8sxvh2IwuVTdm3hUnjrDeKUymEDsE/8j9z3rZP2Zp6TE1NlLGB1UYuK7lTmmuQr53XvH8u1oQYnQtGmI/vTT5E56OvDF+pjeNCUSak1DGudecfzElwhK+IiEEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"12\"\n        title=\"12\"\n        src=\"/static/c7e593cb8ef7a593c7f1ff748f7462a4/fcda8/12.png\"\n        srcset=\"/static/c7e593cb8ef7a593c7f1ff748f7462a4/12f09/12.png 148w,\n/static/c7e593cb8ef7a593c7f1ff748f7462a4/e4a3f/12.png 295w,\n/static/c7e593cb8ef7a593c7f1ff748f7462a4/fcda8/12.png 590w,\n/static/c7e593cb8ef7a593c7f1ff748f7462a4/efc66/12.png 885w,\n/static/c7e593cb8ef7a593c7f1ff748f7462a4/c83ae/12.png 1180w,\n/static/c7e593cb8ef7a593c7f1ff748f7462a4/ddb6a/12.png 1592w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>HSQLDB在设置等待的TPL锁时，使用checkDeadlock函数来检查是否有死锁</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5bf5cb603fee17a45508167f469e3cbb/29007/13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABmUlEQVQoz3WRW2/cIBCF/f9/Vao+Rn1oGil78dqs8cIuGJv71dgZ9SK1SnN0eBgdYL6BpsXsDd0PHT0N7Ijubxf8vR1+nNDreXjtyBGRA6LtKNDDcOkWZblQszQjnV+evjWUTReEMXkIqcHaeheS9cGFfLvz4xm1Pe6HW4/JSOg44AHfHlxwsQgbmiu+9Zd2HK7W6LXkrdb9p7atUkIu5xMlt2vf4StCfY+u6A6i1DmrFtEMhEHbkfKHUA8u2axjSiEmLi2mE6QQYcIImwlbpNKc80nMMUalTbPWKrSTys7KcOXmJWkdjNYAH1LxIYFhhJiKdpEzJsQEbXOJQNfAyil566SwSi7Rx5zztm37B5WyBu+MXkY8DcME79PstQZjrY7OAW/cP1dKBe5Ucvr65eX5+dAh1EA9drQ74JhWiH1cQ1pL3T86xFxrBWbGeddzLmQD9cQUGYW1PuXi/BpT/e9hGH798xe/BNhlYbNckvO5prxvn2KvpdT6T9wo5QnmQmjrsjbxt236y1FqL3WYZjMJDZ6lMxY2p3dRm2/BdHQhZwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"13\"\n        title=\"13\"\n        src=\"/static/5bf5cb603fee17a45508167f469e3cbb/fcda8/13.png\"\n        srcset=\"/static/5bf5cb603fee17a45508167f469e3cbb/12f09/13.png 148w,\n/static/5bf5cb603fee17a45508167f469e3cbb/e4a3f/13.png 295w,\n/static/5bf5cb603fee17a45508167f469e3cbb/fcda8/13.png 590w,\n/static/5bf5cb603fee17a45508167f469e3cbb/efc66/13.png 885w,\n/static/5bf5cb603fee17a45508167f469e3cbb/c83ae/13.png 1180w,\n/static/5bf5cb603fee17a45508167f469e3cbb/29007/13.png 1600w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"HSQLDB (5)：并发控制机制分析","date":"April 05, 2016","description":"对HSQLDB的并发控制机制进行调试分析","tags":["Java","Database","SQL","数据库"]}}},"pageContext":{"slug":"/blogs/HSQLDB-code-analysis-5/","previous":{"fields":{"slug":"/blogs/Color2Gray-report/"},"frontmatter":{"title":"Color2Gray算法"}},"next":{"fields":{"slug":"/blogs/color-transfer-lab/"},"frontmatter":{"title":"Color Transfer 实验"}}}}}